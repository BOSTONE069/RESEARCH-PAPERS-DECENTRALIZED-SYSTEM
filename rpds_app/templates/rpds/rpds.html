{% extends "rpds/base.html" %}
{% load static %}

{% block body %}

<div class="container-fluid p-0" xmlns:target="http://www.w3.org/1999/xhtml">
    <div class="row m-0">
    <div
      class="col-lg-12 offset-lg-0 col-md-6 offset-md-2 col-sm-10 offset-sm-1 col-12"
      style="
        height: 100vh;
        color: #a9d30e;
        background-image: url({%static 'assets/img/web37.jpg' %});
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
      "
    >
    <div style=" margin-top:100px; text-align: left; background-color: black; opacity: 80%; width: 80%; margin: 100px auto; border-radius: 40px; padding: 20px 30px;">
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <a class="btn btn-danger btn-sm rounded-pill me-md-1  mt-4" href="{% url 'logout' %}" role="button">Log out</a>
        </div>
      <h1>RESEARCH PAPERS</h1>
      <br />
    {% if files %}
        {% for file in files %}
            <h3>TITLE: {{ file.name }}</h3>
            <p> <a href="https://gateway.pinata.cloud/ipfs/{{ file.ipfs_hash }}" target:"_blank" rel="noopener noreferrer" > IPFS Hash: {{ file.ipfs_hash }}</a>, Date Pinned: {{ file.date_pinned }}</p>
            <p>PRICE: 0.025 ETH   <button type="button" class="btn btn-primary btn-sm background-color: #4CAF50;" id="paymentAmount" onclick="makePayment()">PAY</button></p>
            <p id="paymentAdress">Wallet Address: 0x49b4973d2f77fa21eC778faf3490e96cf91D20Ff</p>
        {% endfor %}
    {% else %}
        <p>Failed to get list of pinned files</p>
    {% endif %}
    <div>
    </div>
</div>
</div>
        <script src="{% static 'js/payAmount.js' %}"></script>
{% endblock %}